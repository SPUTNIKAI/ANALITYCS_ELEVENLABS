# Project Brief

Проект: Аналитика вебхуков ElevenLabs (ANALITYCS_ELEVENLABS)

Цель: создать надежный сервер для приема POST вебхуков от ElevenLabs Agents после завершения разговора, с последующим сохранением и подготовкой данных для аналитики.

Ключевые требования:
- Прием вебхуков на эндпоинт `\`/webhook/elevenlabs\`` (может быть изменен в конфиге)
- Проверка подписи `ElevenLabs-Signature` по схеме HMAC SHA-256 над строкой `${timestamp}.${rawBody}` с секретом `WEBHOOK_SECRET`
- Допустимое отклонение времени подписи (по умолчанию 30 минут, настраиваемо)
- Ответ сервера: всегда `200 OK` при успешном получении и записи события
- Поддержка новых полей (c 2025-08-15): `has_audio`, `has_user_audio`, `has_response_audio`
- Возможность IP-whitelisting для источников ElevenLabs

Объем первой итерации:
- Инициализация репозитория и memory-bank
- Черновой сервер с эндпоинтом приема вебхука
- Верификация подписи и базовая схема хранения входящих событий
- Документация процессов и настроек

Метрики успеха:
- 99.9% успешных ответов `200 OK` на валидные вебхуки
- Корректная валидация подписи и временного окна
- Сохранение всех полей события, включая аудио-флаги


